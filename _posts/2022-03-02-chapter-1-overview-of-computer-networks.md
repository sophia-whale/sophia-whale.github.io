---
layout: post
title: Chapter 1 Overview of Computer Networks
date: 2022-03-02 09:06 +0800
author:
  name: Sophia-whale
  link: https://github.com/sophia-whale
description:
categories: [Computer Networks, Chapter 1 Overview of Computer Networks]
tags: [computer networks, conception, network layer]
math: true
mermaid: true
---
## 计算机网络概念

一般认为，计算机网络是一个将分散的、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。简而言之，计算机网络就是一些互联的、自治的计算机系统的集合。

## 计算机网络的组成

从不同的角度，可以将计算机网络的组成分为如下三类。

### 2.1 从组成部分上看

一个完整的计算机网络主要由硬件、软件、协议三大部分组成。

* 硬件主要由主机（也称端系统)、通信链路（如双绞线、光纤)、交换设备（如路由器、交换机等）和通信处理机（如网卡）等组成。
* 软件主要包括各种实现资源共享的软件和方便用户使用的各种工具软件（如网络操作系统、邮件收发程序、FTP程序、聊天程序等)。软件部分多属于应用层。
* 协议是计算机网络的核心，规定了网络传输数据时所遵循的规范。

### 2.2 从工作方式上看

计算机网络可分为边缘部分和核心部分。

* 边缘部分由所有连接到因特网上、供用户直接使用的主机组成，用来进行通信（如传输数据、音频或视频）和资源共享。
* 核心部分由大量的网络和连接这些网络的路由器组成，它为边缘部分提供连通性和交换服务。

### 2.3 从功能组成上看

计算机网络由通信子网和资源子网组成。

* 通信子网由各种传输介质、通信设备和相应的网络协议组成，它使网络具有数据传输、交换、控制和存储的能力，实现联网计算机之间的数据通信。
* 资源子网是实现资源共享功能的设备及其软件的集合,向网络用户提供共享其他计算机上的硬件资源、软件资源和数据资源的服务。

## 计算机网络的功能

### 3.1 数据通信*

数据通信是计算机网络最基本和最重要的功能，用来实现联网计算机之间各种信息的传输，并将分散在不同地理位置的计算机联系起来，进行统一的调配、控制和管理。例如，文件传输、电子邮件等应用。

### 3.2 资源共享*

资源共享可以是软件共享、数据共享，也可以是硬件共享。它使计算机网络中的资源互通有
无、分工协作，从而极大地提高硬件资源、软件资源和数据资源的利用率。

### 3.3 分布式处理

当计算机网络中的某个计算机系统负荷过重时，可以将其处理的某个复杂任务分配给网络中的其他计算机系统，从而利用空闲计算机资源以提高整个系统的利用率。﹒

### 3.4 提高可靠性

计算机网络中的各台计算机可以通过网络互为替代机。

### 3.5 负载均衡

将工作任务均衡地分配给计算机网络中的各台计算机。

## 计算机网络的分类

### 4.1 按分布范围

* 广域网
* 城域网
* 局域网
* 个人区域网

### 4.2 按传输技术

* 广播式网络
* 点对点网络

### 4.3 按拓扑结构

网络拓扑结构是指由网中结点（路由器、主机等）与通信线路（网线)之间的几何关系表示的网络结构，主要指通信子网的拓扑结构。/assets/posts/20220302/4.3.png

* 总线形
* 星形
* 环形
* 网状形

![img-description](/assets/posts/20220302/4.3.png)
_网络拓扑结构示意图_

### 4.4 按使用者

* 公用网
* 专用网

### 4.5 按交换技术

交换技术是指各台主机之间、各通信设备之间或主机与通信设备之间为交换信息所采用的数据格式和交换装置的方式。按交换技术可将网络分为如下几种。

* 电路交换网络：在源结点和目的结点之间建立一条专用的通路用于传送数据，包括建立
  连接、传输数据和断开连接三个阶段。最典型的电路交换网是传统电话网络。
  * 特点：整个报文的比特流连续地从源点直达终点。
  * 优点：数据直接传送、时延小。
  * 缺点：线路利用率低、不能充分利用线路容盘、不便于进行差错控制。
* 报文交换网络（存储-转发网络）：用户数据加上源地址、目的地址、校验码等辅助信息，然后封装成报文。整个报文传送到相邻结点，全部存储后，再转发给下一个结点，重复这一过程直到到达目的结点。每个报文可以单独选择到达目的结点的路径。
  * 特点：整个报文先传送到相邻结点，全部存储后查找转发表，转发到下一个结点。
  * 优点：可以较为充分地利用线路容量，可以实现不同链路之间不同数据传输速率的转换，可以实现格式转换，可以实现一对多、多对一的访问，可以实现差错控制。
  * 缺点：增大了资源开销（如辅助信息导致处理时间和存储资源的开销)，增加了缓冲时延，需要额外的控制机制来保证多个报文的顺序不乱序，缓冲区难以管理（因为报文的大小不确定，接收方在接收到报文之前不能预知报文的大小)。
* 分组交换网络（包交换网络）：将数据分成较短的固定长度的数据块，在每个数据块中加上目的地址、源地址等辅助信息组成分组（包)，以存储-转发方式传输。
  * 特点：单个分组传送到相邻结点，存储后查找转发表，转发到下一个结点。
  * 优点：除具备报文交换网络的优点外，分组交换网络还具有缓冲易于管理，包的平均时延更小，网络占用的平均缓冲区更少，更易于标准化，更适合应用的优点。现在的主流网络基本上都可视为分组交换网络。

### 4.6 按传输介质

传输介质可分为有线和无线两大类，因此网络可以分为有线网络和无线网络。

* 有线网络又分为双绞线网络、同轴电缆网络等。
* 无线网络又可分为蓝牙、徼波、无线电等类型。

## 计算机网络的性能指标

### 5.1 带宽

在计算机网络中，带宽表示网络的通信线路所能传送数据的能力，即数字信道所能传送的“最高数据传输速率”，单位是比特/秒（b/s)。

### 5.2 时延

* 发送时延
* 传播时延
* 处理时延
* 排队时延

### 5.3 时延带宽积

发送端发送的第一个比特即将到达终点时，发送端已经发出了多少个比特，因此叉称以比特为单位的链路长度，即时延带宽积=传播时延×信道带宽。

### 5.4 吞吐量

指单位时间内通过某个网络（或信道、接口）的数据量，受网络带宽或网络额定速率的限制。

### 5.5 速率

连接到计算机网络上的主机在数字信道上传送数据的速率，也称数据传输速率、数据率或比特率，单位为 b/s（比特/秒)。在计算机网络中，通常把最高数据传输速率称为带宽。

### 5.6 信道利用率

某一信道有百分之多少的时间是有数据通过的，即信道利用率=有数据通过时间/(有+无)数据通过时间。

## 计算机网络的分层结构

### 6.1 分层原则

* 每层都实现一种相对独立的功能，降低复杂度。
* 各层之间界面自然清晰，易于理解，相互交流尽可能少。
* 各层功能的定义独立于具体实现方法。
* 保持下层对上层的独立性，上层单向使用下层提供的服务。
* 整个分层结构应能促进标准化工作。

### 6.2 分层报文

在计算机网络体系结构的各个层次中，每个报文都分为两部分:一是数据部分，即SDU；是控制信息部分，即PCI，它们共同组成PDU。

* 服务数据单元(SDU):为完成用户所要求的功能而应传送的数据。第n 层的服务数据单元记为n-SDU。
* 协议控制信息(PCI):控制协议操作的信息。第n层的协议控制信息记为n-PCI.
* 协议数据单元(PDU):对等层次之间传送的数据单位称为该层的PDU。第n层的协议数据单元记为n-PDU。在实际的网络中，每层的协议数据单元都有一个通俗的名称，物理层的PDU称为比特，数据链路层的PDU称为帧，网络层的PDU称为分组，传输层的PDU称为报文段。

### 6.3 分层服务

* 第n层的实体不仅要使用第n-1层的服务，还要向第n +1层提供本层的服务，该服务是第n层及其下面各层提供的服务总和。
* 最低层只提供服务，是整个层次结构的基础;中间各层既是下-一层的服务使用者，又是
  上一层的服务提供者;最高层面向用户提供服务。
* 上一层只能通过相邻层间的接口使用下一层的服务，而不能调用其他层的服务;下一层所提供服务的实现细节对上一层透明。
* 两台主机通信时，对等层在逻辑上有一条直接信道，表现为不经过下层就把信息传送到
  对方。

## 协议、接口、服务

### 7.1 协议

协议是指对等实体之间为有效交换数据而建立的规则，由语法、语义和同步三部分组成、

* 语法规定了传输数据的格式。
* 语义规定了所要完成的功能，即需要发出何种控制信息、完成何种动作及做出何种应答。
* 同步规定了执行各种操作的条件、时序关系等，即事件实现顺序的详细说明。一个完整的协议通常应具有线路管理（建立、释放连接)、差错控制、数据转换等功能。

### 7.2 接口

接口是同一结点内相邻两层间交换信息的连接点，每层只能为紧邻的层次之间定义接口。

* 同一结点相邻两层的实体通过服务访问点(Service Access Point，SAP）进行交互。
* 服务是通过SAP提供给上层使用的，第n层的SAP就是第n+1层可以访问第n层服务的地方。每个SAP都有一个能够标识它的地址。
* SAP是一个抽象的概念，它实际上是一个逻辑接口。

### 7.3 服务

服务是指下层紧邻的上层供的功能调用，它是垂直的。对等实体在协议的控制下，使得本层能为上一层提供服务，并同时使用下一层所提供的服务。

上层使用下层所提供的服务时必须与下层交换一些命令，这些命令在OSI参考模型中称为服务原语。OSI参考模型将原语划分为4类:

* 请求(Request)。由服务用户发往服务提供者，请求完成某项工作。
* 指示(Indication)。由服务提供者发往服务用户，指示用户做某件事情。
* 响应(Response)。由服务用户发往服务提供者，作为对指示的响应。.
* 证实(Cofirmatibn)。由服务提供者发往服务用户，作为对请求的证实。

![img-description](/assets/posts/20220302/7.3.png)
_协议、服务和接口的关系示意图_

#### 7.3.1 面向连接服务与无连接服务

* 面向连接服务：通信前双方必须先建立连接，分配相应的资源，以保证通信能正常进行，传输结束后释放连接和所占用的资源。例如TCP。
* 在无连接服务中，通信前双方不需要先建立连接，需要发送数据时可直接发送，把每个带有目的地址的包传送到线路上，由系统选定路线进行传输。这是--种不可靠的服务。这种服务常被描述为“尽最大努力交付”(Best-Effort-Delivery)，它并不保证通信的可靠性。例如IP、UDP。

#### 7.3.2 可靠服务和不可靠服务

* 可靠服务是指网络具有纠错、检错、应答机制，能保证数据正确、可靠地传送到目的地。
* 不可靠服务是指网络只是尽量正确、可靠地传送，而不能保证数据正确、可靠地传送到目的地，是一种尽力而为的服务。其网络的正确性、可靠性要由应用或用户来保障。

#### 7.3.3 有应答服务和无应答服务

* 有应答服务是指接收方在收到数据后向发送方给出相应的应答，该应答由传输系统内部自动实现，而不由用户实现。例如，文件传输服务。
* 无应答服务是指接收方收到数据后不自动给出应答。若需要应答，则由高层实现。例如，对于www服务，客户端收到服务器发送的页面文件后不给出应答。/assets/posts/20220302/8.1.png

## OSI模型和TCP/IP模型

### 8.1 OSI模型

| 名称       | 传输单位 | 任务                                                                                | 功能                                                                               | 协议                                                    |
| ---------- | -------- | ----------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- | ------------------------------------------------------- |
| 物理层     | 比特     | 定义数据终端设备（DTE）和数据通信设备（DCE）的物理与逻辑连接方法                    |                                                                                    |                                                         |
| 数据链路层 | 帧       | 将网络层传来的P数据报组装成帧                                                       | 成帧、差错控制、流量控制和传输管理等                                               | SDLC、HDLC、PPP、STP                                    |
| 网络层     | 数据报   | 把网络层的协议数据单元(分组）从源端传到目的端，为分组交换网上的不同主机提供通信服务 | 对分组进行路由选择，并实现流量控制、拥塞控制、差错控制和网际互联等                 | IP、ICMP、IGMP、ARP、RARP、OSPF等                       |
| 传输层     | 报文段   | 主机中两个进程之间的通信                                                            | 为端到端连接提供可靠的传输服务，提供流量控制、差错控制、服务质量、数据传输管理等。 | TCP、UDP                                                |
| 会话层     | 报文段   | 允许不同主机上的各个进程之间进行会话建立同步(SYN)                                   |  管理主机间的会话进程                                                              |                                                         |
| 表示层     |          |  处理在两个通信系统中交换信息的表示方式                                             |  数据压缩、加密和解密                                                              |                                                         |
| 应用层     | 报文     |  特定类型的网络应用提供访问OSI参考模型环境的手段                                    |                                                                                    | 文件传送的FTP、用于电子邮件的SMTP、用于万维网的 HTTP等  |


![img-description](/assets/posts/20220302/8.1.png)
_OSI模型的层次结构_

### 8.2 TCP/IP模型
