---
layout: post
title: Chapter 2 Physical Layer
date: 2022-03-04 09:39 +0800
author:
  name: Sophia-whale
  link: https://github.com/sophia-whale
description:
categories: [Computer Networks, Chapter 2 Physical Layer]
tags: [computer networks, network layer]
math: true
mermaid: true
---
## 通信基本概念

### 1.1 数据、信号与码元

* 数据是指传送信息的实体。连续数据称为模拟数据，离散数据称为数字数据。数据传输方式可分为串行传输和并行传输。
* 信号则是数据的电气或电磁表现，是数据在传输过程中的存在形式。连续信号称为模拟信号，离散数值的信号称为数字信号。
* 码元是指用一个固定时长的信号波形表示一位k进制数字，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为k进制码元，而该时长称为码元宽度。1码元可以携带若干比特的信息址。

### 1.2 信源、信道与信宿

数据通信是指数字计算机或其他数字终端之间的通信。一个数据通信系统主要划分为信源、信道和信宿三部分。

* 信源是产生和发送数据的源头。
* 信道是信号的传输媒介。一条通信线路往往包含一条发送信道和一条接收信道。
* 信宿是接收数据的终点。

#### 1.2.1 信道分类

* 按传输信号
  * 模拟信道（宽带传输）
  * 数字信道（基带传输）
* 按传输介质
  * 无线信道
  * 有线信道

#### 1.2.2 通信方式

* 单向通信。只有一个方向的通信而没有反方向的交互，仅需要一条信道。例如，无线电
  广播、电视广播。
* 半双工通信。通信的双方都可以发送或接收信息，但任何一方都不能同时发送和接收信
  息，此时需要两条信道。
* 全双工通信。通信双方可以同时发送和接收信息，也需要两条信道。

### 1.3 速率、波特与带宽

* 速率也称数据率，指的是数据传输速率，表示单位时间内传输的数据盘。
  * 码元传输速率。又称波特率，它表示单位时间内数字通信系统所传输的码元个数，单位是波特（Baud)。1波特表示数字通信系统每秒传输一个码元。
  * 信息传输速率。又称信息速率、比特率等，它表示单位时间内数字通信系统传输的二进制码元个数（即比特数)，单位是比特/秒(b/s).
* 带宽表示网络的通信线路所能传输数据的能力，即单位时间内从网络中的某一点到另一点所能通过的“最高数据率”。

## 电路交换、报文交换与分组交换

### 2.1 电路交换

在进行数据传输前，两个结点之间必须先建立一条专用的物理通信路径，该路径可能经过许多中间结点。这一路径在整个数据传输期间一直被独占，直到通信结束后才被释放。因此，电路交换技术分为三个阶段:连接建立、数据传输和连接释放。

* 优点
  * 通信时延小，适合传输数据量大的内容。
  * 有序传输
  * 没有冲突
  * 适用范围广
  * 实时性强
  * 控制简单
* 缺点
  * 建立连接时间长
  * 资源利用率低
  * 灵活性差

### 2.2 报文交换

数据交换的单位是报文，报文携带有目标地址、源地址等信息。报文交换在交换结点采用的是存储转发的传输方式。

* 优点

  * 无需建立连接
  * 动态分配线路
  * 提高线路可靠性
  * 提高线路利用率
  * 提供多目标服务
* 缺点

  * 存储、转发带来转发时延
  * 由于报文大小没有限制，网络结点需要较大的缓存空间。

### 2.3 分组交换

分组交换也采用存储转发方式，分组交换限制了每次传送的数据块大小的上限，把大的数据块划分为合理的小数据块，再加上一些必要的控制信息（如源地址、目的地址和编号信息等)，构成分组（Packet)。网络结点根据控制信息把分组送到下一个结点，下一个结点接收到分组后，暂时保存并排队等待传输，然后根据分组控制信息选择它的下一个结点，直到到达目的结点。

* 优点
  * 无建立时延
  * 线路利用率高
  * 简化存储
  * 加速传输（分组的存储转发可并行）
  * 减少了出错概率和重发数据量
* 缺点
  * 存在传输时延
  * 需要传输额外的信息量
  * 数据报服务时，可能会出现失序、丢失或重复分组

![img-description](/assets/posts/20220304/2.3.png)
_三种交换方式的比较_

## 数据报和虚电路

分组交换根据其通信子网向端点系统提供的服务，还可进一步分为面向连接的虚电路方式和无连接的数据报方式。这两种服务方式都由网络层提供。

### 3.1 数据报

作为通信子网用户的端系统发送一个报文时，在端系统中实现的高层协议先把报文拆成若干带有序号的数据单元，并在网络层加上地址等控制信息后形成数据报分组（即网络层的PDU)。
假定主机A要向主机B发送分组。

* 主机A先将分组逐个发往与它直接相连的交换结点A，交换结点A缓存收到的分组。
* 然后查找自己的转发表，根据路由选择算法将有的分组转发给交换结点c，有的分组转发给交换结点D,
* 网络中的其他结点收到分组后，类似地转发分组，直到分组最终到达主机B。

### 3.2 虚电路

分组发送之前，要求在发送方和接收方建立一条逻辑上相连的虚电路

* 系统每次建立虚电路时，选择一个未用过的虚电路号分配给该虚电路
* 虚电路网络中的每个结点上都维持一张虚电路表

![img-description](/assets/posts/20220304/3.2-2.png)
*虚电路建立电路过程*

### 3.3 数据报和虚电路的比较

![img-description](/assets/posts/20220304/3.2-2.png)

## 传输介质

### 4.1 四种媒介

* 双绞线
* 同轴电缆，广泛用于传输速率较高的数据，传输距离更远。
* 光纤，带宽范围较大。
* 无线传输
  * 无线电波
  * 微波、红外线和激光

### 4.2 物理层接口特性

* 机械特性。指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置等。
* 电气特性。指明在接口电缆的各条线上出现的电压的范围。
* 功能特性。指明某条线上出现的某一电平的电压表示何种意义。
* 过程特性。或称规程特性。指明对于不同功能的各种可能事件的出现顺序。

常用的物理层接口标准有EIA RS-232-C、ADSL和SONET/SDH等。

## 物理层设备

### 5.1 中继器

* 功能是将信号整形并放大再转发出去，以消除信号经过一长段电缆后而产生的失真和衰减，使信号的波形和强度达到所需要的要求，进而扩大网络传输的距离。
* 原理是信号再生(而非简单地将衰减的信号放大)。
* 中继器有两个端口，数据从--个端口输入，再从另一个端口发出。由于中继器工作在物理层，因此它不能连接两个具有不同速率的局域网，故中继器两端的网段一定要使用同一个协议。

【注】在采用粗同轴电缆的10BASE5以太网规范中，互相串联的中继器的个数不能超过4个，而且用4个中继器串联的5段通信介质中只有3段可以挂接计算机，其余两段只能用作扩展通信范围的链路段，不能挂接计算机。这就是所谓的“5-4-3规则”。放大器和中继器都起放大作用，只不过放大器放大的是模拟信号，原理是将衰减的信号放大，而中继器放大的是数字信号，原理是将衰减的信号整形再生。

### 5.2 集线器

* 集线器（Hub）实质上是一个多端口的中继器。
* 当Hub工作时，一个端口接收到数据信号后，Hub便将该信号进行整形放大，使之恢复到发送时的状态，紧接着转发到其他所有（除输入端口外）处于工作状态的端口。如果同时有两个或多个端口输入，那么输出时会发生冲突，致使这些数据都无效。
* 功能：它在网络中只起信号放大和转发作用，目的是扩大网络的传输范围，而不具备信号的定向传送能力，是一个标准的共享式设备。
* 缺点：Hub的每个端口连接的网络部分是同一个网络的不同网段，同时Hub也只能在半双工状态下工作，网络的吞吐率因而受到限制。
